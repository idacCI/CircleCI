machine:
  timezone:
    Asia/Tokyo
  php:
    version: 5.6.2

dependencies:
  override:
    - mkdir -p build/logs
    - composer install --no-interaction

test:
  override:
    - phpunit --coverage-clover build/logs/clover.xml --configuration tests/phpunit.xml tests
  post:
    - php vendor/bin/coveralls -v
    - git diff --name-only origin/master | grep ".*.php$" | xargs phpcs --report=source --standard=./tests/phpcs.xml
    - git diff --name-only origin/master | grep ".*.php$" | xargs phpcs --report=checkstyle --standard=./tests/phpcs.xml

